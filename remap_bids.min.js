const _MIN_PREF_=-1,_MAX_PREF_=3,_CONFLICT_=-100,_SELECTOR_="input.revpref",_MAX_WAIT_TIME_=5e3;function fire(e){setTimeout(()=>{e.dispatchEvent(new Event("change",{bubbles:!0}))},Math.random()*_MAX_WAIT_TIME_)}function remap(){var e=document.querySelectorAll(_SELECTOR_),_=(console.log("[INFO] Found "+e.length+" papers"),Array.from(e).map(e=>parseInt(e.value)||0)),a=Math.max(..._);console.log("[IMPORTANT] Please wait "+_MAX_WAIT_TIME_+"s before refreshing/chaning page"),e.forEach(e=>{var _=parseInt(e.value)||0;_<_CONFLICT_?(e.value=_CONFLICT_,console.log("[WARNING] Changing "+_+" -> "+e.value),fire(e)):_>_CONFLICT_&&_<_MIN_PREF_?(e.value=-1,console.log("[WARNING] Changed "+_+" -> "+e.value),fire(e)):0<_&&(e.value=Math.ceil(_MAX_PREF_*_/a),e.value!=_&&(console.log("[WARNING] Changed "+_+" -> "+e.value),fire(e)))})}remap();
